<main class="mx-auto">
    <div class="w-full md:min-h-(--min-height) box-border text-center">
        <header class="w-full p-8 bg-no-repeat bg-fixed bg-cover bg-gray-600 bg-center"
            style="background-image: url('{{ page_background_image }}');">
            <h1
                class="text-4xl font-bold text-white tracking-wider text-shadow-lg text-shadow-gray-800">
                {{ title }}
            </h1>
            <hr class="w-48 text-rose-500 my-4 border-2 mx-auto" />
        </header>

        <div class="container mx-auto gap-8 p-8 md:p-16">
            <div class="text-white">
                {{ content | widont }}
            </div>

            <div
                class="mt-12 md:flex md:flex-row-reverse items-center justify-center-safe max-w-3xl mx-auto p-4 border border-zinc-500 rounded-sm bg-zinc-900">
                <form name="contact" method="POST" data-netlify="true" netlify-honeypot="bot-field" onsubmit="handleSubmit(event)"
                    class="p-4 grow">
                    <input type="hidden" name="form-name" value="contact">

                    <span class="hidden">
                        <label>Don't fill this out if you're human: <input name="bot-field" /></label>
                    </span>

                    <div class="form-group">
                        <label for="name">Name *</label>
                        <input type="text" id="name" name="name" required placeholder="Enter your name" />
                    </div>

                    <div class="form-group">
                        <label for="email">Email *</label>
                        <input type="email" id="email" name="email" required placeholder="your.email@example.com" />
                    </div>

                    <div class="form-group">
                        <label for="phone">Phone *</label>
                        <input type="tel" id="phone" name="phone" />
                    </div>

                    <div class="form-group">
                        <label for="message">Message *</label>
                        <textarea id="message" name="message" class="h-36" placeholder="Tell us what's on your mind..."></textarea>
                    </div>

                    <div class="form-group">
                        <button type="submit" id="submitBtn" class="primary">Send Message</button>
                    </div>
                </form>
                <div class="flex flex-col gap-8 px-12 pb-8 md:p-4 text-left text-white">
                    <div>
                        <h4 class="font-semibold my-4">General Enquiries &amp; Bookings:</h4>
                        <ul class="flex flex-col gap-4">
                            <li class="flex gap-3 items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                    stroke="currentColor" class="h-6" aria-hidden="true">
                                    <path strokeLinecap="round" strokeLinejoin="round"
                                        d="M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3" />
                                </svg>
                                <a href="tel:{{ contact:phone | replace(' ', '') }}" target="_blank" class="hover:underline">
                                    {{ contact:phone }}
                                </a>
                            </li>
                            <li class="flex gap-3 items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                    stroke="currentColor" class="h-6" aria-hidden="true">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75" />
                                </svg>
                                <a href="mailto:{{ contact:email }}" target="_blank" class="hover:underline">
                                    {{ contact:email }}
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-semibold my-4">Courses &amp; Enrolments:</h4>
                        <ul class="flex flex-col gap-4">
                            <li class="flex gap-3 items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                    stroke="currentColor" class="h-6" aria-hidden="true">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75" />
                                </svg>
                                <a href="mailto:{{ contact:education_email }}" target="_blank" class="hover:underline">
                                    {{ contact:education_email }}
                                </a>
                            </li>
                            <li class="flex gap-3 items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                    stroke="currentColor" class="h-6 w-6" aria-hidden="true">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418" />
                                </svg>
                                <a href="//{{ contact:education_website }}" target="_blank" class="hover:underline">
                                    {{ contact:education_website }}
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-semibold my-4">Connect with us:</h4>
                        <ul class="flex flex-col gap-4">
                            {{ nav:social }}
                            <li class="flex gap-3 items-center">
                                <i class="icon-{{$ strtolower($title) $}} h-6"></i>
                                <a href="{{ url }}" title="Gospo on {{ title }}" class="hover:underline" target="_blank">
                                    {{ title }}
                                </a>
                            </li>
                            {{ /nav:social }}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<script>
    function handleSubmit(event) {
        const submitBtn = document.getElementById('submitBtn');
        submitBtn.disabled = true;
        submitBtn.textContent = 'Sending...';
    }

    if (window.location.search.includes('success=true')) {
        document.getElementById('successMessage').classList.add('show');
        document.querySelector('form').reset();
    }
</script>
